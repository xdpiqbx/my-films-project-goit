(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1DEj":function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("lmye"),n("D/wG"),n("Muwe"),n("aZFp"),n("JBxO"),n("FdtR");var o="9fba788361f0940b39e64c54ec217196",a="https://api.themoviedb.org/3/",i=function(e){return a+"movie/"+e+"?api_key="+o+"&language=en-US"};function d(e){return fetch(e).then((function(e){return e.json()}))}n("uQK7"),n("8cZI");var r={modal:document.querySelector(".modal")},c=function(e){d(i(e)).then((function(t){return r.modal.innerHTML=function(e){return"\n        <div>\n            <img width='300' src=\"https://image.tmdb.org/t/p/w500/"+e.poster_path+'"/>\n        </div>\n        <div>\n            <h3>'+(e.name||e.title)+"</h3>\n            <p>vote / votes ----- "+e.vote_average+" / "+e.vote_count+"</p>\n            <p>Popularity "+e.popularity+"</p>\n            <p>Original title: "+(e.original_title||e.original_name)+"</p>\n            <p>Genre: "+function(e){return"<span>"+e.genres.map((function(e){return e.name})).join(", ")+"</span>"}(e)+"</p>\n            <h4>About</h4>\n            <p>"+e.overview+'</p>\n            <div class="js-btns-add">\n                <button class="to-watched">Add to watched</button>                    \n                <button class="to-queue">Add to queue</button>\n                <button class=\'js-close\'>Close</button>\n            </div>\n        </div>\n    '}(t),document.querySelector(".js-close").addEventListener("click",(function(){r.modal.classList.add("hide")})),t=null,e})).then((function(e){var t=document.querySelector(".js-btns-add"),n=t.querySelector(".to-watched"),o=t.querySelector(".to-queue");n.addEventListener("click",(function(){return u("toWatched",e)})),o.addEventListener("click",(function(){return u("toQueue",e)}))})).catch((function(e){console.log(e)}))};function u(e,t){var n=localStorage.getItem(e);n=function(e,t){e?e.indexOf(t)<0&&(e+=" "+t):e=t;return e}(n,t),localStorage.setItem(e,n)}n("1DEj");var l,s={mainWrapper:document.querySelector(".js-films-wrapper-list"),pagination:document.querySelector(".js-pages"),modal:document.querySelector(".modal"),addedToWatched:document.querySelector(".added-to-watched"),addedToQueue:document.querySelector(".added-to-queue")};function p(e){s.mainWrapper.innerHTML="",e.split(" ").map((function(e){d(i(e)).then((function(e){s.mainWrapper.insertAdjacentHTML("beforeend",m(e))}))}))}function m(e){return'\n        <li class="js-films-wrapper-list__item" data-id="'+e.id+'">\n            <img width="200px" src="https://image.tmdb.org/t/p/w500/'+e.poster_path+'"/>\n            <p>'+(e.title||e.name)+"</p>\n        </li>\n    "}d((void 0===l&&(l=1),a+"trending/all/day?api_key="+o+"&page="+l+"&adult=false")).then((function(e){e.results.map((function(e){return s.mainWrapper.insertAdjacentHTML("beforeend",m(e))})),s.mainWrapper.addEventListener("click",(function(e){s.modal.classList.remove("hide");var t=e.path[1].dataset.id;t&&c(+t)}))})),s.addedToWatched.addEventListener("click",(function(e){s.modal.classList.add("hide"),p(localStorage.getItem("toWatched"))})),s.addedToQueue.addEventListener("click",(function(e){s.modal.classList.add("hide"),p(localStorage.getItem("toQueue"))}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.941ef9b1c2ad0e8dd368.js.map